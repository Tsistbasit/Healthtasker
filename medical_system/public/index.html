<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
      charset="UTF-8"
    />
    <title>智能辅助监护系统</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>智能辅助监护系统</h1>
      <div class="header-buttons">
        <button id="login-button1" onclick="showLogin()">登录</button>
        <button id="register-button1" onclick="showRegister()">注册</button>
        <button id="logout-button" style="display: none" onclick="logout()">
          退出
        </button>
      </div>
    </header>

    <div class="container">
      <nav class="sidebar">
        <ul>
          <li>
            <a
              href="#patient-management"
              onclick="showPatientManagement(); return false;"
              >病人信息管理</a
            >
          </li>
          <li>
            <a
              href="#task-management"
              onclick="showTaskManagement(); return false;"
              >加急任务下发</a
            >
          </li>
          <li>
            <a href="#schedule-task" onclick="showScheduleTask(); return false;"
              >定时任务下发</a
            >
          </li>
          <li>
            <a href="#map-task" onclick="showMapTask(); return false;"
              >实时位置追踪</a
            >
          </li>
        </ul>
      </nav>

      <main>
        <section id="patient-management" style="display: none">
          <h2>病人信息管理</h2>
          <form id="patient-form">
            <input type="hidden" id="patient-id" />
            <label>姓名: <input type="text" id="name" required /></label>
            <label>房号: <input type="text" id="room" required /></label>
            <label>药物: <input type="text" id="medicine" required /></label>
            <button type="submit">添加/更新病人</button>
          </form>
          <table id="patients-table1">
            <thead>
              <tr>
                <th>姓名</th>
                <th>房号</th>
                <th>药物</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </section>

        <section id="patient-managements" style="display: none">
          <h2>病人信息</h2>
          <table id="patients-table2">
            <thead>
              <tr>
                <th>选择</th>
                <th>姓名</th>
                <th>房号</th>
                <th>药物</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </section>

        <section id="task-management" style="display: none">
          <h2>任务下发</h2>
          <button id="send-task-button" onclick="sendTask()">
            发送送药任务
          </button>
          <table id="tasks-table">
            <thead>
              <tr>
                <th>任务ID</th>
                <th>病人姓名</th>
                <th>状态</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </section>

        <section id="schedule-task" style="display: none">
          <h2>定时任务下发</h2>
          <form id="schedule-task-form">
            <label
              >任务备注: <input type="text" id="task-name" required
            /></label>
            <label
              >执行时间: <input type="datetime-local" id="task-time" required
            /></label>
            <button type="submit">添加定时任务</button>
          </form>
          <table id="scheduled-tasks-table">
            <thead>
              <tr>
                <th>执行时间</th>
                <th>任务</th>
                <th>药物</th>
                <th>状态</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </section>

        <section id="login-section">
          <h2>登录</h2>
          <form id="login-form">
            <label
              >用户名: <input type="text" id="login-username" required
            /></label>
            <label
              >密码: <input type="password" id="login-password" required
            /></label>
            <button type="submit">登录</button>
          </form>
        </section>

        <section id="register-section" style="display: none">
          <h2>注册</h2>
          <form id="register-form">
            <label
              >用户名: <input type="text" id="register-username" required
            /></label>
            <label
              >密码: <input type="password" id="register-password" required
            /></label>
            <button type="submit">注册</button>
          </form>
        </section>
      </main>
    </div>

    <script src="app.js"></script>
    <script>
      function showPatientManagement() {
        if (!isLoggedIn) {
          alert("请先登录");
          document.getElementById("logout-button").style.display = "none";
          return;
        }
        document.getElementById("task-management").style.display = "none";
        document.getElementById("schedule-task").style.display = "none";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("login-button1").style.display = "none";
        document.getElementById("register-button1").style.display = "none";
        document.getElementById("register-section").style.display = "none";
        document.getElementById("patient-managements").style.display = "none";
        document.getElementById("patient-management").style.display = "block";
        document.getElementById("logout-button").style.display = "block";
        window.scrollTo(0, 0);
      }

      function showTaskManagement() {
        if (!isLoggedIn) {
          alert("请先登录");
          document.getElementById("logout-button").style.display = "none";
          return;
        }
        document.getElementById("patient-management").style.display = "none";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("register-section").style.display = "none";
        document.getElementById("login-button1").style.display = "none";
        document.getElementById("register-button1").style.display = "none";
        document.getElementById("schedule-task").style.display = "none";
        document.getElementById("task-management").style.display = "block";
        document.getElementById("patient-managements").style.display = "block";
        document.getElementById("logout-button").style.display = "block";
        window.scrollTo(0, 0);
      }

      function showScheduleTask() {
        if (!isLoggedIn) {
          alert("请先登录");
          document.getElementById("logout-button").style.display = "none";
          return;
        }
        document.getElementById("patient-management").style.display = "none";
        document.getElementById("task-management").style.display = "none";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("register-section").style.display = "none";
        document.getElementById("login-button1").style.display = "none";
        document.getElementById("register-button1").style.display = "none";
        document.getElementById("schedule-task").style.display = "block";
        document.getElementById("patient-managements").style.display = "block";
        document.getElementById("logout-button").style.display = "block";
        window.scrollTo(0, 0);
      }

      function showLogin() {
        document.getElementById("patient-management").style.display = "none";
        document.getElementById("task-management").style.display = "none";
        document.getElementById("schedule-task").style.display = "none";
        document.getElementById("register-section").style.display = "none";
        document.getElementById("login-button1").style.display = "block";
        document.getElementById("register-button1").style.display = "block";
        document.getElementById("login-section").style.display = "block";
        document.getElementById("patient-managements").style.display = "none";
        window.scrollTo(0, 0);
      }

      function showRegister() {
        document.getElementById("patient-management").style.display = "none";
        document.getElementById("task-management").style.display = "none";
        document.getElementById("schedule-task").style.display = "none";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("login-button1").style.display = "block";
        document.getElementById("register-button1").style.display = "block";
        document.getElementById("register-section").style.display = "block";
        document.getElementById("patient-managements").style.display = "none";
        window.scrollTo(0, 0);
      }

      function logout() {
        isLoggedIn = false;
        document.getElementById("logout-button").style.display = "none";
        showLogin();
      }

      function sendTask() {
        alert("送药任务已发送！");
      }
    </script>
  </body>
</html>
